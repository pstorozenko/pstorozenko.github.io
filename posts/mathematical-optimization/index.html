<!doctype html><html lang=en><head><title>Introduction Into Mathematical Optimization Way of Thinking üßÆ ::
Pasza's blog ‚Äî a simple blog about complex things</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="In the post about fitting pizzas inside another pizza I&amp;rsquo;ve shown the following picture and promised a post about recreating it.
Pizzas packed in pizza  However, I would not like to assume that everyone is familiar with the optimization theory (you may graduate from Computer Science and still not know a lot) so I want to present an introduction here as high school math and quadratic equations are enough to understand those concepts."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/posts/mathematical-optimization/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.css integrity=sha384-ysFyB7Is//Q1JNgERb0bLJokXKM8eWJsjEutGvthoHtBilHWgbdmbYkQZdwCIGIq crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.js integrity=sha384-UWjC+k927Mtx6WQF5SzKTXLLrOYmzs69HvkUjiKvUwSOljzc+C6PrGquNpOvJBBo crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-PR8Z9SJC7F"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PR8Z9SJC7F",{anonymize_ip:!1})}</script><link rel=stylesheet href=/assets/style.css><link rel=stylesheet href=/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/img/favicon.png><link href=/assets/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/assets/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><meta name=twitter:card content="summary"><meta name=twitter:title content="Introduction Into Mathematical Optimization Way of Thinking üßÆ"><meta name=twitter:description content="In the post about fitting pizzas inside another pizza I&rsquo;ve shown the following picture and promised a post about recreating it.
Pizzas packed in pizza  However, I would not like to assume that everyone is familiar with the optimization theory (you may graduate from Computer Science and still not know a lot) so I want to present an introduction here as high school math and quadratic equations are enough to understand those concepts."><meta property="og:title" content="Introduction Into Mathematical Optimization Way of Thinking üßÆ"><meta property="og:description" content="In the post about fitting pizzas inside another pizza I&rsquo;ve shown the following picture and promised a post about recreating it.
Pizzas packed in pizza  However, I would not like to assume that everyone is familiar with the optimization theory (you may graduate from Computer Science and still not know a lot) so I want to present an introduction here as high school math and quadratic equations are enough to understand those concepts."><meta property="og:type" content="article"><meta property="og:url" content="/posts/mathematical-optimization/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-07T19:40:13+01:00"><meta property="article:modified_time" content="2021-11-07T19:40:13+01:00"><meta property="og:site_name" content="Pasza's blog"></head><body><div class=container><header class=header><span class=header__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>pasza's blog</span>
<span class=logo__cursor></span></a>
<span class=header__right><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/about>About me</a></li><li><a href=/useful-materials>Useful materials</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/about>About me</a></li><li><a href=/useful-materials>Useful materials</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><div class=post><h1 class=post-title>Introduction Into Mathematical Optimization Way of Thinking üßÆ</h1><div class=post-meta><span class=post-date>2021-11-07</span></div><span class=post-tags><a href=/tags/math/>#math</a>&nbsp;
<a href=/tags/optimization/>#optimization</a>&nbsp;
<a href=/tags/julia/>#julia</a>&nbsp;</span><div class=post-content><p>In the post about fitting pizzas inside another pizza I&rsquo;ve shown the following picture and promised a post about recreating it.</p><figure class=left><img src=/posts/pizza-twice-as-big/circles_in_circle.png style=width:50%;margin:auto><figcaption class=center>Pizzas packed in pizza</figcaption></figure><p>However, I would not like to assume that everyone is familiar with the <a href=https://en.wikipedia.org/wiki/Mathematical_optimization>optimization theory</a> (you may graduate from Computer Science and still not know a lot) so I want to present an introduction here as high school math and quadratic equations are enough to understand those concepts.</p><h2 id=mathematical-optimization-for-dummies>Mathematical optimization for dummies</h2><p>Mathematical optimization is usually just asking a question about finding values of some <strong>variables</strong> that <strong>minimize</strong> or <strong>maximize</strong> value of some function.
We call this function the <strong>objective</strong>.
For example:</p><p>$$
\min _x x^2 - 4x + 2.
$$</p><p>With usage of high-school formula we can write:</p><p>$$
\min _x x^2 - 4x + 2 = \min _x \ (x - 2)^2,
$$</p><p>and find $x_{\text{min}} = 2$.</p><h3 id=constrains-in-mathematical-optimization>Constrains in mathematical optimization</h3><p>Often our optimization problem is <strong>constrained</strong> somehow.
In the language of mathematical optimization we say that some variable is <strong>subjected to</strong>.
We can introduce two types of constrains:</p><ol><li>Inequality constraint e.g. $x \le 4$</li><li>Equality constraint e.g. $y = x - 5$</li></ol><p>For example:</p><p>$$
\begin{aligned}
\min\quad & x^2 + 5 \newline
\text{Subject to} \quad & 4 \le x \le 10 \newline
\end{aligned}
$$</p><p>and here solution is $x_{min} = 4$ and objective function is $4^2 + 5 = 21$.
Note that the interval is closed.
It is super rare for optimization problems to have open boundaries.
Try to think what it would mean.</p><p>Let&rsquo;s consider:</p><p>$$
\begin{aligned}
\max\quad & 4y \newline
\text{Subject to} \quad & x \le 3 \newline
& x = 2y + 2 \newline
\end{aligned}
$$</p><p>It may not be as obvious at first but $x_{max} = 3$, $y_{max} = 0.5$ with objective equal to $2$.
What is interesting here is that we maximize over variables $x$ and $y$, while $x$ is not explicitly present in our objective function.
Of course we may rewrite the problem by substituting $y$ by $x$.
$$
2y = x - 2 \newline
y = (x - 2) / 2 \newline
$$</p><p>$$
4y = 2(x-2) = 2x - 4
$$</p><p>$$
\begin{aligned}
\max\quad & 2x - 4 \newline
\text{Subject to} \quad & x \le 3 \newline
& y = (x - 2) / 2 \newline
\end{aligned}
$$</p><p>Problem written like this is much easier to solve by hand, and we eliminated one variable.</p><h2 id=solving-optimization-problems-using-julia>Solving optimization problems using julia</h2><p>Let&rsquo;s try to phrase above problems using <code>julia</code>.
We will be using <code>JuMP</code> package as it has a convenient interface.
The code is so self-explaining that I leave it as is.
At GitHub you will find <a href=https://github.com/pstorozenko/pstorozenko.github.io/blob/main/code/mathematical-optimization/main.ipynb>a jupyter notebook with this code</a>.</p><p>This is the first simple quadratic problem:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-julia data-lang=julia><span style=display:flex><span>model <span style=color:#f92672>=</span> Model(Ipopt<span style=color:#f92672>.</span>Optimizer)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@variable</span>(model, x)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@objective</span>(model, Min, x<span style=color:#f92672>^</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span> )
</span></span><span style=display:flex><span><span style=color:#a6e22e>@constraint</span>(model, <span style=color:#ae81ff>4</span> <span style=color:#f92672>&lt;=</span> x <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>optimize!(model)
</span></span></code></pre></div><p>To get the value of variable $x$ and objective function:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-julia data-lang=julia><span style=display:flex><span>julia<span style=color:#f92672>&gt;</span> value(x), objective_value(model)
</span></span><span style=display:flex><span>(<span style=color:#ae81ff>3.0000000297721905</span>, <span style=color:#ae81ff>35.00000032749409</span>)
</span></span></code></pre></div><p>And the second problem with two variables:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-julia data-lang=julia><span style=display:flex><span>model <span style=color:#f92672>=</span> Model(Ipopt<span style=color:#f92672>.</span>Optimizer)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@variable</span>(model, x)
</span></span><span style=display:flex><span><span style=color:#a6e22e>@variable</span>(model, y)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@objective</span>(model, Max, <span style=color:#ae81ff>4</span>y)
</span></span><span style=display:flex><span><span style=color:#a6e22e>@constraint</span>(model, x <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>@constraint</span>(model, x <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span>y <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>optimize!(model)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-julia data-lang=julia><span style=display:flex><span>julia<span style=color:#f92672>&gt;</span> value(x), value(y), objective_value(model)
</span></span><span style=display:flex><span>(<span style=color:#ae81ff>3.000000028747048</span>, <span style=color:#ae81ff>0.500000014373524</span>, <span style=color:#ae81ff>2.000000057494096</span>)
</span></span></code></pre></div><h2 id=the-two-paths-in-mathematical-optimization>The two paths in mathematical optimization</h2><p>What I haven&rsquo;t said yet is that there are two main paths in optimization field:</p><ol><li>Writing problems in framework presented above.</li><li>Writing solvers for those problems.</li></ol><p>Those problems are surprisingly separable.
You may have strong skills in formulating optimization problems and doesn&rsquo;t have any clue about low-level processor optimization.
Similarly you may love to find all the weird SIMD optimization and be careful about memory patters and doesn&rsquo;t really care <em>what</em> are you calculating.</p><h2 id=why-this-post-was-interesting>Why this post was interesting?</h2><p>While problems described above may not be so fascinating, they serve as good examples how to write problems in mathematical optimization framework.
Stay tuned for the next mathematical optimization post in which we will solve some imaginary real-life problems using <code>JuMP</code>!!!</p></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=/posts/practical-mathematical-optimization/><span class=button__icon>‚Üê</span>
<span class=button__text>Practical Mathematical Optimization üè°üõíüßÉ</span></a></span>
<span class="button next"><a href=/posts/solar-panels-1/><span class=button__text>Detecting Solar Panels from satellite images part 1 -- data preparationüõ∞Ô∏è</span>
<span class=button__icon>‚Üí</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user">Piotr Pasza Storo≈ºenko</div></div></footer><script src=/assets/main.js></script>
<script src=/assets/prism.js></script></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-PR8Z9SJC7F"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PR8Z9SJC7F",{anonymize_ip:!1})}</script></body></html>